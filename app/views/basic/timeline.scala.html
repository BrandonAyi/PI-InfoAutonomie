@(message: String, currentPage: com.avaje.ebean.Page[model.BasicEventOccurrence], currentSortBy: String, currentOrder: String, currentFilter: String, currentAmount: String, basics: List[model.BasicEvent])

@import java.util.List;
@import java.math.BigInteger; var i=1

@****************************************
* Helper generating navigation links    *
****************************************@
@link(newPage:Int, newSortBy:String) = @{

    var sortBy = currentSortBy
    var order = currentOrder

    if(newSortBy != null) {
        sortBy = newSortBy
        if(currentSortBy == newSortBy) {
            if(currentOrder == "asc") {
                order = "desc"
            } else {
                order = "asc"
            }
        } else {
            order = "asc"
        }
    }

    // Generate the link
    routes.BasicEventController.timeline(newPage, sortBy, order, currentFilter)

}

@main(message) {

<div id="wrapper">

	@nav()

	<div id="page-wrapper">

        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">@message</h1>
            </div>
                <!-- /.col-lg-12 -->
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-clock-o fa-fw"></i> Timeline
                    </div>
                        <!-- /.panel-heading -->
                    <div class="panel-body">
                        <nav class="navbar navbar-default" role="navigation">
                            <div class="navbar-header">
                                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button> <a class="navbar-brand" href="#">Brand</a>
                            </div>

                            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                                <ul class="nav navbar-nav">
                                    <li class="active">
                                        <a href="#">Link</a>
                                    </li>
                                    <li>
                                        <a href="#">Link</a>
                                    </li>
                                </ul>
                                <form class="navbar-form navbar-left" role="search">
                                    <div class="form-group">
                                        <input placeholder="Nombre éléments" name="a" type="number" class="form-control" value="@currentAmount"/>
                                    </div> <button type="submit" class="btn btn-default">Submit</button>
                                </form>
                                <ul class="nav navbar-nav navbar-right">
                                    <form class="navbar-form navbar-left" action="@routes.BasicEventController.timeline(0, currentSortBy, currentOrder, currentFilter)" role="form"> <!-- Element amount field -->
                                        <input class="form-group" id="searchbox" name="f" value="@currentFilter" list="sensorList">
                                        <datalist id="sensorList">
                                        @for(basic <- basics) {
                                            <option value="@basic.getId" label="@basic.getName">
                                            }
                                        </datalist>
                                        <input class="btn btn-default" type="submit" id="searchsubmit" value="Filtrer par basicEvent" class="btn primary">
                                    </form>
                                </ul>
                            </div>

                        </nav>
                        <ul class="timeline">
                        @for(event <- currentPage.getList) {
                            @if(i%2 == 0) {
                                <li>
                            } else {
                                <li class="timeline-inverted">
                            }
                                <div class="timeline-badge @event.getBasicEvent.getColor"><i class="fa @event.getBasicEvent.getIcon"></i>
                                </div>
                                <div class="timeline-panel">
                                    <div class="timeline-heading">
                                        <h4 class="timeline-title">@event.getBasicEvent.getName</h4>
                                        <p><small class="text-muted"><i class="fa fa-clock-o"></i> @event.getDate </small>
                                    </div>
                                    <div class="timeline-body">
                                        <p>@event.fromValue to @event.toValue @event.getBasicEvent.getSensor.getUnit</p>
                                    </div>
                                </div>
                            </li>
                            @{i=i+1}
                        }
                        </ul>
                    </div>
                    <!-- /.panel-body -->
                </div>
            </div>
        </div>
    </div>
	<!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->

}
