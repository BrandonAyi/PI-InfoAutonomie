@(message: String, currentPage: com.avaje.ebean.Page[model.BasicEventOccurrence], currentSortBy: String, currentOrder: String, currentFilter: String, basics: List[model.BasicEvent])

@import java.util.List;
@import java.math.BigInteger; var i=1

@****************************************
* Helper generating navigation links    *
****************************************@
@link(newPage:Int, newSortBy:String) = @{

    var sortBy = currentSortBy
    var order = currentOrder

    if(newSortBy != null) {
        sortBy = newSortBy
        if(currentSortBy == newSortBy) {
            if(currentOrder == "asc") {
                order = "desc"
            } else {
                order = "asc"
            }
        } else {
            order = "asc"
        }
    }

    // Generate the link
    routes.BasicEventController.timeline(newPage, sortBy, order, currentFilter)

}

@main(message) {

<div id="wrapper">

	@nav()

	<div id="page-wrapper">

        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">@message</h1>
            </div>
                <!-- /.col-lg-12 -->
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-clock-o fa-fw"></i> Timeline
                    </div>
                        <!-- /.panel-heading -->
                    <div class="panel-body">
                        <div id="actions">
                            <form action="@link(0, "name")" method="GET" role="form">
                                <input class="form-group" id="searchbox" name="f" value="@currentFilter" list="sensorList">
                                <datalist id="sensorList">
                                @for(basic <- basics) {
                                    <option value="@basic.getId" label="@basic.getName">
                                    }
                                </datalist>
                                <input class="btn btn-default" type="submit" id="searchsubmit" value="Filtrer par basicEvent" class="btn primary">
                            </form>
                        </div>
                        <ul class="timeline">
                        @for(event <- currentPage.getList) {
                            @if(i%2 == 0) {
                                <li>
                            } else {
                                <li class="timeline-inverted">
                            }
                                <div class="timeline-badge @event.getBasicEvent.getColor"><i class="fa @event.getBasicEvent.getIcon"></i>
                                </div>
                                <div class="timeline-panel">
                                    <div class="timeline-heading">
                                        <h4 class="timeline-title">@event.getBasicEvent.getName</h4>
                                        <p><small class="text-muted"><i class="fa fa-clock-o"></i> @event.getDate </small>
                                    </div>
                                    <div class="timeline-body">
                                        <p>@event.fromValue to @event.toValue @event.getBasicEvent.getSensor.getUnit</p>
                                    </div>
                                </div>
                            </li>
                            @{i=i+1}
                        }
                        </ul>
                    </div>
                    <!-- /.panel-body -->
                </div>
            </div>
        </div>
    </div>
	<!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->

}
